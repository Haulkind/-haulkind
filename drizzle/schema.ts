import {  int,  mysqlEnum,  mysqlTable,  text,  timestamp,  varchar,  decimal,  boolean,  json,  index,  unique,} from "drizzle-orm/mysql-core";/** * Haulkind Platform Database Schema * Complete schema for junk removal and labor marketplace */// ============================================================================// CORE USER TABLES// ============================================================================export const users = mysqlTable("users", {  id: int("id").autoincrement().primaryKey(),  openId: varchar("openId", { length: 64 }).notNull().unique(),  name: text("name"),  email: varchar("email", { length: 320 }),  phone: varchar("phone", { length: 20 }),  photoUrl: text("photoUrl"),  loginMethod: varchar("loginMethod", { length: 64 }),  role: mysqlEnum("role", ["user", "admin", "customer", "driver"]).default("user").notNull(),  createdAt: timestamp("createdAt").defaultNow().notNull(),  updatedAt: timestamp("updatedAt").defaultNow().onUpdateNow().notNull(),  lastSignedIn: timestamp("lastSignedIn").defaultNow().notNull(),});export const customers = mysqlTable("customers", {  id: int("id").autoincrement().primaryKey(),  userId: int("userId").notNull().references(() => users.id),
  password: varchar("password", { length: 255 }),  stripeCustomerId: varchar("stripeCustomerId", { length: 255 }),  defaultPaymentMethodId: varchar("defaultPaymentMethodId", { length: 255 }),  createdAt: timestamp("createdAt").defaultNow().notNull(),  updatedAt: timestamp("updatedAt").defaultNow().onUpdateNow().notNull(),}, (table) => ({  userIdIdx: index("customers_userId_idx").on(table.userId),}));export const drivers = mysqlTable("drivers", {  id: int("id").autoincrement().primaryKey(),  userId: int("userId").notNull().references(() => users.id),  status: mysqlEnum("status", ["pending", "approved", "blocked"]).default("pending").notNull(),  isOnline: boolean("isOnline").default(false).notNull(),  vehicleType: varchar("vehicleType", { length: 50 }),  vehicleCapacity: decimal("vehicleCapacity", { precision: 10, scale: 2 }),  liftingLimit: int("liftingLimit"),  canHaulAway: boolean("canHaulAway").default(false).notNull(),  canLaborOnly: boolean("canLaborOnly").default(false).notNull(),  insuranceProvider: varchar("insuranceProvider", { length: 255 }),  insurancePolicyNumber: varchar("insurancePolicyNumber", { length: 255 }),  insuranceExpiresAt: timestamp("insuranceExpiresAt"),  acceptanceRate: decimal("acceptanceRate", { precision: 5, scale: 2 }).default("0").notNull(),  cancelRate: decimal("cancelRate", { precision: 5, scale: 2 }).default("0").notNull(),  totalOffers: int("totalOffers").default(0).notNull(),  totalAccepted: int("totalAccepted").default(0).notNull(),  totalCompleted: int("totalCompleted").default(0).notNull(),  totalCancelled: int("totalCancelled").default(0).notNull(),  averageRating: decimal("averageRating", { precision: 3, scale: 2 }),  totalRatings: int("totalRatings").default(0).notNull(),  stripeAccountId: varchar("stripeAccountId", { length: 255 }),
